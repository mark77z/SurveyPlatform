<!-- Individual Statistics-->
<div *ngIf='surveyId!= undefined' class="container stats-container">
    <div class="row position-relative">
        <div class="charts-container">
            <a [routerLink]="" class="btn btn-light btn-lg transparent85" (click)="exportStatsBySurvey(survey.title)">
                <i class="fas fa-file-pdf"></i> Export
            </a>
        </div>
        <div class="col-md-offset-3 col-md-10" id="stats-exportable">
            <div class="section-title">
                <h1 class="display-4">{{ survey.title }}</h1>
            </div>
            <section>
                <div class="row">
                    <div class="col-xl-6 col-sm-6 col-12 mb-4">
                        <div class="card transparent85">
                            <div class="card-body">
                                <div class="d-flex justify-content-between px-md-1">
                                    <div>
                                        <h3 class="text-success">{{ countAnsweredSurveys }}</h3>
                                        <p class="mb-0">Times Answered</p>
                                    </div>
                                    <div class="align-self-center">
                                        <i class="fas fa-edit text-success fa-3x"></i>
                                    </div>
                                </div>
                                <div class="px-md-1">
                                    <div class="progress mt-3 mb-1 rounded" style="height: 7px">
                                        <div class="progress-bar bg-success" role="progressbar" [style.width]="countAnsweredSurveysPercentaje" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-6 col-sm-6 col-12 mb-4">
                        <div class="card transparent85">
                            <div class="card-body">
                                <div class="d-flex justify-content-between px-md-1">
                                    <div>
                                        <h3 class="text-danger">{{totalCorrectPercentaje}}%</h3>
                                        <p class="mb-0">Response effectiveness</p>
                                    </div>
                                    <div class="align-self-center">
                                        <i class="far fa-check-square text-danger fa-3x"></i>
                                    </div>
                                </div>
                                <div class="px-md-1">
                                    <div class="progress mt-3 mb-1 rounded" style="height: 7px">
                                        <div class="progress-bar bg-danger" role="progressbar" [style.width]="totalCorrectPercentajeStr" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <table class="charts-table">
                    <tr>
                        <td style="width: 65%;">
                            <div id="pie-chart-gender" class="d-inline p-2">
                                <h2 class="section-heading mb-4">
                                    Gender
                                </h2>
                                <div class="survey-chart">
                                    <canvas mdbChart [chartType]="genderChartType" [datasets]="genderChartDatasets" [labels]="genderChartLabels" [colors]="genderChartColors" [options]="genderChartOptions" [legend]="true">
                                    </canvas>
                                </div>
                            </div>
                        </td>
                        <td>
                            <div id="pie-chart-gender" class="d-inline p-2" style="padding-left: 10%;">
                                <h2 class="section-heading mb-4">
                                    Age Range
                                </h2>
                                <div>
                                    <canvas style="height: 250px; width: 500px;" mdbChart [chartType]="ageChartType" [datasets]="ageChartDatasets" [labels]="ageChartLabels" [colors]="ageChartColors" [options]="ageChartOptions" [legend]="true">
                                    </canvas>
                                </div>
                            </div>
                        </td>
                    </tr>
                </table>
            </section>
        </div>
    </div>
</div>

<!-- General Statistics -->
<div *ngIf='surveyId=== undefined' class="container stats-container">
    <div class="row position-relative">
        <div class="charts-container">
            <a [routerLink]="" class="btn btn-light btn-lg transparent85" (click)="exportGeneralStats()">
                <i class="fas fa-file-pdf"></i> Export
            </a>
        </div>
        <div class="col-md-offset-3 col-md-10" id="stats-exportable">
            <div class="section-title">
                <h1 class="display-4">General Statistics</h1>
            </div>
            <section>
                <div class="row">
                    <div class="col-xl-4 col-sm-6 col-12 mb-4">
                        <div class="card transparent85">
                            <div class="card-body">
                                <div class="d-flex justify-content-between px-md-1">
                                    <div>
                                        <h3 class="text-info">{{ generatedSurveys }}</h3>
                                        <p class="mb-0">Created Surveys</p>
                                    </div>
                                    <div class="align-self-center">
                                        <i class="fas fa-poll text-info fa-3x"></i>
                                    </div>
                                </div>
                                <div class="px-md-1">
                                    <div class="progress mt-3 mb-1 rounded" style="height: 7px">
                                        <div class="progress-bar bg-info" role="progressbar" [style.width]="generatedSurvesPercentaje" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-4 col-sm-6 col-12 mb-4">
                        <div class="card transparent85">
                            <div class="card-body">
                                <div class="d-flex justify-content-between px-md-1">
                                    <div>
                                        <h3 class="text-success">{{ countAnsweredSurveys }}</h3>
                                        <p class="mb-0">Surveys Answered</p>
                                    </div>
                                    <div class="align-self-center">
                                        <i class="fas fa-edit text-success fa-3x"></i>
                                    </div>
                                </div>
                                <div class="px-md-1">
                                    <div class="progress mt-3 mb-1 rounded" style="height: 7px">
                                        <div class="progress-bar bg-success" role="progressbar" [style.width]="countAnsweredSurveysPercentaje" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-4 col-sm-6 col-12 mb-4">
                        <div class="card transparent85">
                            <div class="card-body">
                                <div class="d-flex justify-content-between px-md-1">
                                    <div>
                                        <h3 class="text-danger">{{totalCorrectPercentaje}}%</h3>
                                        <p class="mb-0">Correct answers</p>
                                    </div>
                                    <div class="align-self-center">
                                        <i class="far fa-check-square text-danger fa-3x"></i>
                                    </div>
                                </div>
                                <div class="px-md-1">
                                    <div class="progress mt-3 mb-1 rounded" style="height: 7px">
                                        <div class="progress-bar bg-danger" role="progressbar" [style.width]="totalCorrectPercentajeStr" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <table class="charts-table">
                    <tr>
                        <td style="width: 65%;">
                            <div id="pie-chart-gender" class="d-inline p-2">
                                <h2 class="section-heading mb-4">
                                    Gender
                                </h2>
                                <div class="survey-chart">
                                    <canvas mdbChart [chartType]="genderChartType" [datasets]="genderChartDatasets" [labels]="genderChartLabels" [colors]="genderChartColors" [options]="genderChartOptions" [legend]="true">
                                    </canvas>
                                </div>
                            </div>
                        </td>
                        <td>
                            <div id="pie-chart-gender" class="d-inline p-2" style="padding-left: 10%;">
                                <h2 class="section-heading mb-4">
                                    Age Range
                                </h2>
                                <div>
                                    <canvas style="height: 250px; width: 500px;" mdbChart [chartType]="ageChartType" [datasets]="ageChartDatasets" [labels]="ageChartLabels" [colors]="ageChartColors" [options]="ageChartOptions" [legend]="true">
                                    </canvas>
                                </div>
                            </div>
                        </td>
                    </tr>
                </table>
            </section>
        </div>
    </div>
</div>